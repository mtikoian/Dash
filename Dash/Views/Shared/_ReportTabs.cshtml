@using Dash.Resources
@using Dash.Models
@model ReportView

<tab-list>
    <tab-item>
        @if (Model.ActiveTab == ReportViewTab.Edit)
        {
            <tab-active id="report">@Reports.ViewReport</tab-active>
        }
        else
        {
            <authorized-button controller="Report" action="Edit" title="@Reports.ViewReport" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!Model.IsOwner)">
        @if (Model.ActiveTab == ReportViewTab.Columns)
        {
            <tab-active id="selectColumns">@Reports.SelectColumns</tab-active>
        }
        else
        {
            <authorized-button controller="Report" action="SelectColumns" title="@Reports.SelectColumns" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!User.IsInRole("reportfilter.index") || !Model.IsOwner)">
        @if (Model.ActiveTab == ReportViewTab.Filters)
        {
            <tab-active id="filters">@Reports.Filters</tab-active>
        }
        else
        {
            <authorized-button controller="ReportFilter" action="Index" title="@Reports.Filters" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!Model.IsOwner)">
        @if (Model.ActiveTab == ReportViewTab.Groups)
        {
            <tab-active id="groups">@Reports.Groups</tab-active>
        }
        else
        {
            <authorized-button controller="ReportGroup" action="Index" title="@Reports.Groups" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!Model.IsOwner)">
        @if (Model.ActiveTab == ReportViewTab.Rename)
        {
            <tab-active id="renameReport">@Core.Rename</tab-active>
        }
        else
        {
            <authorized-button controller="Report" action="Rename" title="@Core.Rename" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!User.IsInRole("reportshare.index") || !Model.IsOwner)">
        @if (Model.ActiveTab == ReportViewTab.Share)
        {
            <tab-active id="share">@Reports.ShareReport</tab-active>
        }
        else
        {
            <authorized-button controller="ReportShare" action="Index" title="@Reports.ShareReport" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!User.IsInRole("report.sql"))">
        @if (Model.ActiveTab == ReportViewTab.Sql)
        {
            <tab-active id="viewSql">@Core.ViewSql</tab-active>
        }
        else
        {
            <authorized-button controller="Report" action="Sql" title="@Core.ViewSql" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
</tab-list>
