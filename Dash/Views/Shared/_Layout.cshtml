@using System.Globalization;
@using Dash.Resources;

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>@(((string)ViewBag.Title).IsEmpty() ? Dash.Resources.Core.Dashboard : ViewBag.Title)</title>
    <link rel="stylesheet" href="~/css/bundle.css" />
    <link rel="icon" href="~/favicon.ico">
</head>
<body data-base-url="@Url.Content("~")" data-resx="@Url.Action("Index", "Resx", null)" data-lang="@(CultureInfo.DefaultThreadCurrentCulture?.TwoLetterISOLanguageName ?? "en")">
    <div id="fullPageBody">
        <partial name="_NavBar" />
        <div id="contentWrapper">
            @RenderBody()
        </div>
    </div>

    <div id="loader" class="dialog-loading d-none">
        <div class="loading loading-lg"></div>
    </div>

    <script id="tableHeaderTemplate" type="text/x-dot-template">
        <div class="container">
            <div class="columns form-horizontal m-2">
                <div class="col-6">
                    <div class="input-group col-8 col-mr-auto"><span class="input-group-addon text-no-select"><i class="dash dash-search"></i></span><input type="text" class="form-input table-search-input" value="{{=it.searchQuery}}"></div>
                </div>
                <div class="col-6">
                    <div class="input-group col-8 col-ml-auto">
                        <span class="input-group-addon text-no-select">@Core.PerPage</span>
                        <select id="table-items-per-page" class="form-select table-items-input"><option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option></select>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <script id="tableFooterTemplate" type="text/x-dot-template">
        <div class="container">
            <div class="columns m-2">
                <div class="col-4 btn-toolbar">
                    <button type="button" role="button" title="@Core.FirstPage" class="btn btn-secondary"><i class="dash dash-to-start-alt text-primary"></i></button>
                    <button type="button" role="button" title="@Core.PreviousPage" class="btn btn-secondary"><i class="dash dash-to-start text-primary"></i></button>
                    <button type="button" role="button" title="@Core.NextPage" class="btn btn-secondary"><i class="dash dash-to-end text-primary"></i></button>
                    <button type="button" role="button" title="@Core.LastPage" class="btn btn-secondary"><i class="dash dash-to-end-alt text-primary"></i></button>
                </div>
                <div class="col-4">
                    <div class="input-group col-8 col-mx-auto">
                        <span class="input-group-addon text-no-select">@Core.Page</span>
                        <select class="form-select">
                            {{~it.pages :value:index}}
                            <option value="{{=value}}">{{=value}}</option>
                            {{~}}
                        </select>
                    </div>
                </div>
                <div class="col-4 text-right my-auto">{{=it.startItem}} - {{=it.endItem}} of {{=it.totalItems}}</div>
            </div>
        </div>
    </script>

    <script id="tableBodyTemplate" type="text/x-dot-template">
        <div class="table-scrollable">
            <div class="table-area">
                <table class="table table-hover table-sm table-striped table-data">
                    <colgroup class="table-column-group">
                        {{~it.columns :value:index}}
                        <col>
                        {{~}}
                    </colgroup>
                    <thead>
                        <tr>
                            {{~it.columns :value:index}}
                            <th class="text-no-select{{? !value.sortable }} disabled{{?}}">
                                {{=value.name}} {{? value.sortable }}<i class="float-right dash data-table-arrow dash-sort-{{=value.sortDirection}}" />{{?}}
                            </th>
                            {{~}}
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </script>

    <script id="rowTemplate" type="text/x-dot-template">
        <tr>
            {{~it.columns :col:index}}
            <td>
                {{=col.value}}
            </td>
            {{~}}
        </tr>
    </script>

    <script type="text/javascript" src="~/js/bundle.js"></script>
</body>
</html>
