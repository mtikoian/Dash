@using Dash.Resources
@using Dash.Models
@model ChartView

<tab-list>
    <tab-item no-render="@(!User.IsInRole("chart.edit"))">
        @if (Model.ActiveTab == ChartViewTab.Edit)
        {
            <tab-active id="overview">@Charts.ViewChart</tab-active>
        }
        else
        {
            <authorized-button controller="Chart" action="Edit" title="@Charts.ViewChart" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!User.IsInRole("chartrange.index") || !Model.IsOwner)">
        @if (Model.ActiveTab == ChartViewTab.Ranges)
        {
            <tab-active id="ranges">@Charts.Ranges</tab-active>
        }
        else
        {
            <authorized-button controller="ChartRange" action="Index" title="@Charts.Ranges" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!Model.IsOwner)">
        @if (Model.ActiveTab == ChartViewTab.Rename)
        {
            <tab-active id="renameChart">@Core.Rename</tab-active>
        }
        else
        {
            <authorized-button controller="Chart" action="Rename" title="@Core.Rename" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!Model.IsOwner)">
        @if (Model.ActiveTab == ChartViewTab.ChangeType)
        {
            <tab-active id="changeType">@Charts.ChangeType</tab-active>
        }
        else
        {
            <authorized-button controller="Chart" action="ChangeType" title="@Charts.ChangeType" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!User.IsInRole("chartshare.index") || !Model.IsOwner)">
        @if (Model.ActiveTab == ChartViewTab.Share)
        {
            <tab-active id="share">@Charts.ShareChart</tab-active>
        }
        else
        {
            <authorized-button controller="ChartShare" action="Index" title="@Charts.ShareChart" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
    <tab-item no-render="@(!User.IsInRole("chart.sql"))">
        @if (Model.ActiveTab == ChartViewTab.Sql)
        {
            <tab-active id="viewSql">@Core.ViewSql</tab-active>
        }
        else
        {
            <authorized-button controller="Chart" action="Sql" title="@Core.ViewSql" route-values="@(new { Id = Model.Id })" class="BtnLink" role="tab" />
        }
    </tab-item>
</tab-list>
